<widget-modal widget-modal-title="Create a New Dashboard">
    <form name="cdf" class="form" ng-submit="ctrl.submit(cdf)" novalidate>
        <form-group input="dashboardType">
            <select name="dashboardType"
                    class="form-control"
                    ng-model="ctrl.dashboardType"
                    ng-options="item.text for item in ctrl.dashboardTypes track by item.id"
                    ng-change="ctrl.setAvailableTemplates()"
                    required>
                <option value="" disabled>Select a type</option>
            </select>

        </form-group>

        <form-group input="selectedTemplate" errors="{required: 'Please select a template'}">
            <select name="selectedTemplate"
                    class="form-control"
                    ng-model="ctrl.selectedTemplate"
                    ng-options="item.name for item in ctrl.availableTemplates track by item.value"
                    required>
                <option value="" disabled>Select a template</option>
            </select>
        </form-group>

        <form-group  input="configurationItemApp" novalidate>
            <input
                type="text"
                name="configurationItemApp"
                ng-model="ctrl.configurationItemApp"
                class="form-control"
                placeholder="Select an App (Optional)"
                uib-typeahead="configItem as configItem.configurationItem for configItem in ctrl.getConfigItem('app',$viewValue) "
                typeahead-wait-ms="250" autocomplete="off"
                typeahead-min-length="0"
                typeahead-editable="false"
                typeahead-on-select="ctrl.setConfigItemAppId(ctrl.configurationItemApp.id)"
                typeahead-no-results="noResults" />
            <div class="form-control" ng-show="noResults">
                No Results Found
            </div>
        </form-group>

        <form-group input="configurationItemComponent" novalidate>
            <input
                    type="text"
                    name="configurationItemComponent"
                    ng-model="ctrl.configurationItemComponent"
                    class="form-control"
                    placeholder="Select a Component (Optional)"
                    uib-typeahead="configItemComp as configItemComp.configurationItem for configItemComp in ctrl.getConfigItem('component',$viewValue)"
                    typeahead-wait-ms="250" autocomplete="off"
                    typeahead-min-length="0"
                    typeahead-editable="false"
                    typeahead-on-select="ctrl.setConfigItemComponentId(ctrl.configurationItemComponent.id)"
                    typeahead-no-results="noResults" />
            <div class="form-control" ng-show="noResults">
                No Results Found
            </div>
        </form-group>

        <form-group input="dashboardTitle" errors="{required: 'Dashboard title is required', minlength: 'Min length of 6 characters', maxlength: 'Max length of 50 characters', createError: 'Error creating dashboard. Change title and try again.', pattern : 'Special character(s) found. Please enter only letters, numbers or spaces.'}">
            <input
                type="text"
                name="dashboardTitle"
                ng-model="ctrl.dashboardTitle"
                class="form-control"
                placeholder="Dashboard title"
                required
                maxlength="50"
                autocomplete="off"
                minlength="6"
                ng-pattern="/^[a-zA-Z0-9 ]*$/"/>

        </form-group>

        <form-group input="applicationName" errors="{required: 'Application name is required', maxlength: 'Max length of 50 characters'}">
            <input
                type="text"
                name="applicationName"
                class="form-control"
                placeholder="Application name"
                ng-model="ctrl.applicationName"
                maxlength="50"
                autocomplete="off"
                required />
        </form-group>

        <div class="button-row row text-center">
            <button type="submit" class="btn btn-primary btn-wide">Create</button>
        </div>

    </form>
</widget-modal>